{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://www.bpl74.com/zap/content-engine-post.schema.json",
  "title": "SightWordz Content Engine Output",
  "type": "object",
  "additionalProperties": false,
  "required": ["app", "pillar", "format", "posts"],
  "properties": {
    "app": {
      "type": "string",
      "enum": ["sightwordz"]
    },
    "pillar": {
      "type": "string",
      "enum": ["Problem→Relief", "Routine Builder", "Feature→Job", "Proof Lite"]
    },
    "format": {
      "type": "string",
      "enum": ["Reel", "Carousel", "Static"]
    },
    "posts": {
      "type": "object",
      "additionalProperties": false,
      "required": ["instagram", "x", "facebook"],
      "properties": {
        "instagram": {
          "type": "object",
          "additionalProperties": false,
          "required": ["hook", "caption", "hashtags", "cta", "reel_script"],
          "properties": {
            "hook": {
              "type": "string",
              "minLength": 5
            },
            "caption": {
              "type": "string",
              "minLength": 20
            },
            "hashtags": {
              "type": "array",
              "minItems": 5,
              "maxItems": 8,
              "items": {
                "type": "string",
                "pattern": "^#[A-Za-z0-9_]+$"
              }
            },
            "cta": {
              "type": "string",
              "minLength": 5,
              "default": "Download SightWordz on the App Store"
            },
            "reel_script": {
              "type": "string",
              "minLength": 20
            }
          }
        },
        "x": {
          "type": "object",
          "additionalProperties": false,
          "required": ["text"],
          "properties": {
            "text": {
              "type": "string",
              "minLength": 10
            }
          }
        },
        "facebook": {
          "type": "object",
          "additionalProperties": false,
          "required": ["text"],
          "properties": {
            "text": {
              "type": "string",
              "minLength": 20
            }
          }
        }
      }
    }
  }
}